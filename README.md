docker file ok.
docker compose ok.
But ros node cannot communicate each other because network isn't implement.
Here is libnet for containers.

https://github.com/moby/libnetwork